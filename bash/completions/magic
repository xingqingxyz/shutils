_magic() {
  mapfile -t COMPREPLY < <(compgen -W '-help -version -usage -list -script -adjoin -affine -antialias -authenticate -background -bias -black-point-compensation -blue-primary -bordercolor -caption -cdl -colors -colorspace -comment -compose -compress -decipher -define -delay -density -depth -direction -display -dispose -dither -encipher -encoding -endian -family -fill -filter -flatten -font -format -fuzz -gravity -green-primary -intent -interlace -interpolate -kerning -label -limit -loop -mask -matte -mattecolor -monitor -orient -origin -page -ping -pointsize -preview -quality -quiet -red-primary -regard-warnings -repage -sampling-factor -scene -seed -size -statistic -stretch -stroke -strokewidth -style -support -synchronize -taint -texture -tile-offset -treedepth -transparent-color -undercolor -units -verbose -view -virtual-pixel -weight -white-point -adaptive-blur -adaptive-resize -adaptive-sharpen -annotate -auto-orient -bilateral-blur -black-threshold -blur -border -channel -charcoal -chop -clip -clip-mask -clip-path -colorize -color-matrix -contrast -contrast-stretch -convolve -cycle -despeckle -draw -edge -emboss -enhance -equalize -evaluate -extent -extract -fft -flip -floodfill -flop -frame -function -gamma -gaussian-blur -geometry -identify -ift -implode -integral -lat -layers -level -linear-stretch -median -mode -modulate -monochrome -morphology -motion-blur -negate -noise -normalize -opaque -ordered-dither -paint -polaroid -posterize -print -profile -quantize -radial-blur -raise -random-threshold -range-threshold -region -render -resample -resize -roll -rotate -sample -scale -segment -selective-blur -sepia-tone -set -shade -shadow -sharpen -shave -shear -sigmoidal-contrast -sketch -solarize -sort-pixels -splice -spread -strip -swirl -threshold -thumbnail -tile -tint -transform -transparent -transpose -transverse -trim -type -unique-colors -unsharp -vignette -wave -white-threshold -channel-extract -channel-inject -channel-swap -affinity -append -clut -coalesce -combine -composite -crop -deconstruct -evaluate-sequence -flatten -fx -hald-clut -morph -mosaic -process -separate -smush -write -clone -delete -duplicate -insert -swap -debug -help -log -list -version' -- "$2")
}

complete -o default -F _magic magic
