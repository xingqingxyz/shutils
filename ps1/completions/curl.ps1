Register-ArgumentCompleter -Native -CommandName curl -ScriptBlock {
  param([string]$wordToComplete, [System.Management.Automation.Language.CommandAst]$commandAst, [int]$cursorPosition)

  @(if ($wordToComplete.StartsWith('-')) {
      @('--abstract-unix-socket', '--alt-svc', '--anyauth', '-a', '--append', '--aws-sigv4', '--basic', '--ca-native', '--cacert', '--capath', '-E', '--cert', '--cert-status', '--cert-type', '--ciphers', '--compressed', '--compressed-ssh', '-K', '--config', '--connect-timeout', '--connect-to', '-C', '--continue-at', '-b', '--cookie', '-c', '--cookie-jar', '--create-dirs', '--create-file-mode', '--crlf', '--crlfile', '--curves', '-d', '--data', '--data-ascii', '--data-binary', '--data-raw', '--data-urlencode', '--delegation', '--digest', '-q', '--disable', '--disable-eprt', '--disable-epsv', '--disallow-username-in-url', '--dns-interface', '--dns-ipv4-addr', '--dns-ipv6-addr', '--dns-servers', '--doh-cert-status', '--doh-insecure', '--doh-url', '-D', '--dump-header', '--egd-file', '--engine', '--etag-compare', '--etag-save', '--expect100-timeout', '-f', '--fail', '--fail-early', '--fail-with-body', '--false-start', '-F', '--form', '--form-escape', '--form-string', '--ftp-account', '--ftp-alternative-to-user', '--ftp-create-dirs', '--ftp-method', '--ftp-pasv', '-P', '--ftp-port', '--ftp-pret', '--ftp-skip-pasv-ip', '--ftp-ssl-ccc', '--ftp-ssl-ccc-mode', '--ftp-ssl-control', '-G', '--get', '-g', '--globoff', '--happy-eyeballs-timeout-ms', '--haproxy-clientip', '--haproxy-protocol', '-I', '--head', '-H', '--header', '-h', '--help', '--hostpubmd5', '--hostpubsha256', '--hsts', '--http0', '-0', '--http1', '--http1', '--http2', '--http2-prior-knowledge', '--http3', '--http3-only', '--ignore-content-length', '-i', '--include', '-k', '--insecure', '--interface', '--ipfs-gateway', '-4', '--ipv4', '-6', '--ipv6', '--json', '-j', '--junk-session-cookies', '--keepalive-time', '--key', '--key-type', '--krb', '--libcurl', '--limit-rate', '-l', '--list-only', '--local-port', '-L', '--location', '--location-trusted', '--login-options', '--mail-auth', '--mail-from', '--mail-rcpt', '--mail-rcpt-allowfails', '-M', '--manual', '--max-filesize', '--max-redirs', '-m', '--max-time', '--metalink', '--negotiate', '-n', '--netrc', '--netrc-file', '--netrc-optional', '--next', '--no-alpn', '-N', '--no-buffer', '--no-clobber', '--no-keepalive', '--no-npn', '--no-progress-meter', '--no-sessionid', '--noproxy', '--ntlm', '--ntlm-wb', '--oauth2-bearer', '-o', '--output', '--output-dir', '-Z', '--parallel', '--parallel-immediate', '--parallel-max', '--pass', '--path-as-is', '--pinnedpubkey', '--post301', '--post302', '--post303', '--preproxy', '--progress-bar', '--proto', '--proto-default', '--proto-redir', '-x', '--proxy', '--proxy-anyauth', '--proxy-basic', '--proxy-ca-native', '--proxy-cacert', '--proxy-capath', '--proxy-cert', '--proxy-cert-type', '--proxy-ciphers', '--proxy-crlfile', '--proxy-digest', '--proxy-header', '--proxy-http2', '--proxy-insecure', '--proxy-key', '--proxy-key-type', '--proxy-negotiate', '--proxy-ntlm', '--proxy-pass', '--proxy-pinnedpubkey', '--proxy-service-name', '--proxy-ssl-allow-beast', '--proxy-ssl-auto-client-cert', '--proxy-tls13-ciphers', '--proxy-tlsauthtype', '--proxy-tlspassword', '--proxy-tlsuser', '--proxy-tlsv1', '-U', '--proxy-user', '--proxy1', '-p', '--proxytunnel', '--pubkey', '-Q', '--quote', '--random-file', '-r', '--range', '--rate', '--raw', '-e', '--referer', '-J', '--remote-header-name', '-O', '--remote-name', '--remote-name-all', '-R', '--remote-time', '--remove-on-error', '-X', '--request', '--request-target', '--resolve', '--retry', '--retry-all-errors', '--retry-connrefused', '--retry-delay', '--retry-max-time', '--sasl-authzid', '--sasl-ir', '--service-name', '-S', '--show-error', '-s', '--silent', '--socks4', '--socks4a', '--socks5', '--socks5-basic', '--socks5-gssapi', '--socks5-gssapi-nec', '--socks5-gssapi-service', '--socks5-hostname', '-Y', '--speed-limit', '-y', '--speed-time', '--ssl', '--ssl-allow-beast', '--ssl-auto-client-cert', '--ssl-no-revoke', '--ssl-reqd', '--ssl-revoke-best-effort', '-2', '--sslv2', '-3', '--sslv3', '--stderr', '--styled-output', '--suppress-connect-headers', '--tcp-fastopen', '--tcp-nodelay', '-t', '--telnet-option', '--tftp-blksize', '--tftp-no-options', '-z', '--time-cond', '--tls-max', '--tls13-ciphers', '--tlsauthtype', '--tlspassword', '--tlsuser', '-1', '--tlsv1', '--tlsv1', '--tlsv1', '--tlsv1', '--tlsv1', '--tr-encoding', '--trace', '--trace-ascii', '--trace-config', '--trace-ids', '--trace-time', '--unix-socket', '-T', '--upload-file', '--url', '--url-query', '-B', '--use-ascii', '-u', '--user', '-A', '--user-agent', '--variable', '-v', '--verbose', '-V', '--version', '-w', '--write-out', '--xattr')
    }).Where{ $_ -like "$wordToComplete*" }
}
