Register-ArgumentCompleter -Native -CommandName valgrind -ScriptBlock {
  param ([string]$wordToComplete, [System.Management.Automation.Language.CommandAst]$commandAst, [int]$cursorPosition)
  @(if ($wordToComplete.StartsWith('-')) {
      '--tool=memcheck', '--tool=cachegrind', '--tool=callgrind', '--tool=helgrind', '--tool=drd', '--tool=massif', '--tool=dhat', '--tool=lackey', '--tool=none', '--tool=exp-bbv', '-h', '--help', '--help-debug', '--help-dyn-options', '--version', '-q', '--quiet', '-v', '--verbose', '--trace-children=no', '--trace-children=yes', '--trace-children-skip=', '--trace-children-skip-by-arg=', '--child-silent-after-fork=no', '--child-silent-after-fork=yes', '--vgdb=no', '--vgdb=yes', '--vgdb=full', '--vgdb-error=', '--vgdb-stop-at=startup', '--vgdb-stop-at=exit', '--vgdb-stop-at=abexit', '--vgdb-stop-at=valgrindabexit', '--vgdb-stop-at=all', '--vgdb-stop-at=none', '--track-fds=no', '--track-fds=yes', '--track-fds=all', '--modify-fds=no', '--modify-fds=high', '--time-stamp=no', '--time-stamp=yes', '--log-fd=', '--log-file=', '--log-socket=', '--enable-debuginfod=no', '--enable-debuginfod=yes', '--xml=yes', '--xml-fd=', '--xml-file=', '--xml-socket=', '--xml-user-comment=', '--demangle=no', '--demangle=yes', '--num-callers=', '--error-limit=no', '--error-limit=yes', '--exit-on-first-error=no', '--exit-on-first-error=yes', '--error-exitcode=', '--error-markers=', '--show-error-list=no', '--show-error-list=yes', '--show-error-list=all', '-s', '--keep-debuginfo=no', '--keep-debuginfo=yes', '--show-below-main=no', '--show-below-main=yes', '--default-suppressions=yes', '--default-suppressions=no', '--suppressions=', '--gen-suppressions=no', '--gen-suppressions=yes', '--gen-suppressions=all', '--input-fd=', '--dsymutil=no', '--dsymutil=yes', '--max-stackframe=', '--main-stacksize=', '--alignment=', '--redzone-size=', '--xtree-memory=none', '--xtree-memory=allocs', '--xtree-memory=full', '--xtree-memory-file=', '--realloc-zero-bytes-frees=yes', '--realloc-zero-bytes-frees=no', '--fullpath-after=', '--extra-debuginfo-path=', '--debuginfo-server=', '--allow-mismatched-debuginfo=no', '--allow-mismatched-debuginfo=yes', '--smc-check=none', '--smc-check=stack', '--smc-check=all', '--smc-check=all-non-file', '--read-inline-info=yes', '--read-inline-info=no', '--read-var-info=yes', '--read-var-info=no', '--vgdb-poll=', '--vgdb-shadow-registers=no', '--vgdb-shadow-registers=yes', '--vgdb-prefix=', '--run-libc-freeres=no', '--run-libc-freeres=yes', '--run-cxx-freeres=no', '--run-cxx-freeres=yes', '--sim-hints=lax-ioctls', '--sim-hints=lax-doors', '--sim-hints=fuse-compatible', '--sim-hints=enable-outer', '--sim-hints=no-inner-prefix', '--sim-hints=no-nptl-pthread-stackcache', '--sim-hints=fallback-llsc', '--sim-hints=none', '--scheduling-quantum=', '--fair-sched=no', '--fair-sched=yes', '--fair-sched=try', '--kernel-variant=bproc', '--kernel-variant=android-no-hw-tls', '--kernel-variant=android-gpu-sgx5xx', '--kernel-variant=android-gpu-adreno3xx', '--kernel-variant=none', '--merge-recursive-frames=', '--num-transtab-sectors=', '--avg-transtab-entry-size=', '--aspace-minaddr=', '--valgrind-stacksize=', '--show-emwarns=no', '--show-emwarns=yes', '--require-text-symbol=', '--soname-synonyms=', '--sigill-diagnostics=yes', '--sigill-diagnostics=no', '--unw-stack-scan-thresh=', '--unw-stack-scan-frames=', '--resync-filter=no', '--resync-filter=yes', '--resync-filter=verbose', '--max-threads=', '--leak-check=no', '--leak-check=summary', '--leak-check=full', '--leak-resolution=low', '--leak-resolution=med', '--leak-resolution=high', '--show-leak-kinds=definite', '--show-leak-kinds=possible', '--errors-for-leak-kinds=definite', '--errors-for-leak-kinds=indirect', '--errors-for-leak-kinds=possible', '--errors-for-leak-kinds=reachable', '--errors-for-leak-kinds=all', '--errors-for-leak-kinds=none', '--leak-check-heuristics=stdstring', '--leak-check-heuristics=length64', '--leak-check-heuristics=newarray', '--leak-check-heuristics=multipleinheritance', '--leak-check-heuristics=all', '--leak-check-heuristics=none', '--show-reachable=yes', '--show-reachable=no', '--show-possibly-lost=yes', '--show-reachable=no', '--show-possibly-lost=no', '--xtree-leak=no', '--xtree-leak=yes', '--xtree-leak-file=', '--undef-value-errors=no', '--undef-value-errors=yes', '--track-origins=no', '--track-origins=yes', '--partial-loads-ok=no', '--partial-loads-ok=yes', '--expensive-definedness-checks=no', '--expensive-definedness-checks=auto', '--expensive-definedness-checks=yes', '--freelist-vol=', '--freelist-big-blocks=', '--workaround-gcc296-bugs=no', '--workaround-gcc296-bugs=yes', '--ignore-ranges=', '--ignore-range-below-sp=', '--malloc-fill=', '--free-fill=', '--keep-stacktraces=alloc', '--keep-stacktraces=free', '--keep-stacktraces=alloc-and-free', '--keep-stacktraces=alloc-then-free', '--keep-stacktraces=none', '--show-mismatched-frees=no', '--show-mismatched-frees=yes', '--show-realloc-size-zero=no', '--show-realloc-size-zero=yes'
    }).Where{ $_ -like "$wordToComplete*" }
}
